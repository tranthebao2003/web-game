<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BDLV Gaming</title>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>

<!--trang home -->
<div id="home">
    <!-- header -->
    <header>
        <div class="main-header">
            <div class="logo">
                <img th:src="@{/img/home/logo.png}" alt="logo">
                <a th:href="@{/admin}">
                    <p>ADMIN</p>
                </a>
            </div>
            <nav class="nav-menu">
                <div class="main-header-category">
                </div>
            </nav>
            <div class="icons">
                <!--                để xem profile-->
                <a href="#"><img th:src="@{/img/admin/admin.png}" alt="Lỗi hiển thị"></a>
                <p th:text="${admin.email}"></p>
            </div>
        </div>
    </header>

    <!-- content -->
    <div class="content">
        <!-- sidebar -->
        <div class='sidebar'>
            <div class="sidebar-options">
                <a th:href='@{/admin}' class="sidebar-option">
                    <img th:src="@{/img/admin/list.png}" alt="Lỗi hiển thị"/>
                    <p>Danh sách game</p>
                </a>
                <a th:href='@{/addGameForm}' class="sidebar-option">
                    <img th:src="@{/img/admin/add.png}" alt="Lỗi hiển thị"/>
                    <p>Thêm game</p>
                </a>
                <a th:href='@{/listUsers}' class="sidebar-option">
                    <img th:src="@{/img/admin/customer.png}" alt="Lỗi hiển thị"/>
                    <p>Thông tin User</p>
                </a>
                <a th:href='@{/listOrders}' class="sidebar-option">
                    <img th:src="@{/img/admin/list.png}" alt="Lỗi hiển thị"/>
                    <p>Quản lý Order</p>
                </a>
            </div>
        </div>

        <!-- Popup -->
        <div class="popup-overlay" id="popup">
            <div class="popup-box">
                <h2>Thông báo</h2>
<!--                <p class="container text-center" th:if="${success != null}" th:text="${success}"></p>-->
<!--                <p class="container text-center" th:if="${error != null}" th:text="${error}"></p>-->
            </div>
        </div>

        <form class="list-user" action="#">
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>Email</th>
                <th>Full Name</th>
                <th>Phone Number</th>
                <th>Role</th>
            </tr>
            </thead>
            <tbody>
            <!-- Duyệt qua danh sách người dùng -->
            <tr th:each="user : ${users}">
                <td th:text="${user.userId}"></td>
                <td th:text="${user.email}"></td>
                <td th:text="${user.fullName}"></td>
                <td th:text="${user.phone}"></td>
                <td th:text="${user.role}"></td>
            </tr>
            </tbody>
        </table>
        </form>
        <div class="edit-user">
            <h1>Danh sách User</h1>
            <div>
                <form
                th:action="@{/findUserById}"
                method="get"
                >
                    <input name="id" type="text" placeholder="Tìm kiếm bằng ID">
                    <button type="submit">Tìm kiếm</button>
                </form>

                <form
                      th:action="@{/findUserByRole}"
                      method="get">
                    <input type="text" name="role" placeholder="Tìm kiếm bằng role" />
                    <button type="submit">Tìm kiếm</button>
                </form>

                <p>Cấp quyền Admin</p>
                <form
                th:action="@{/addAdmin}"
                method="get">
                    <input type="text" name="id" placeholder="Nhập ID User">
                    <button type="submit" >Cấp quyền</button>
                </form>
            </div>
        </div>

    </div>

    <!-- footer -->
    <footer>
        <div class="footer" id="footer">
            <div class="footer-content">
                <div class="footer-content-left">
                    <img th:src="@{/img/home/logo.png}" alt="logo">
                    <p>
                        BDLV Gaming là web bán game đa nền tảng (Steam, Epic Games, EA Games, Ubisoft) với giá cực kỳ
                        hợp lý. BDLV Gaming cam kết mang đến trải nghiệm mua game
                        bản quyền an toàn, uy tín và tiết kiệm.
                    </p>
                </div>
                <div class="footer-content-center">
                    <h2>Công ty BDLV GAMING</h2>
                    <ul>
                        <li>Trang chủ</li>
                        <li>Về chúng tôi</li>
                        <li>Đơn hàng của bạn</li>
                        <li>Chính sách</li>
                    </ul>
                </div>
                <div class="footer-content-right">
                    <h2>Liên hệ với chúng tôi thông qua</h2>
                    <ul>
                        <li>0933-223-872</li>
                        <li>BDLVGaming@gmail.com</li>
                    </ul>
                </div>
            </div>
            <hr/>
            <p class="footer-copyright">
                Copyright 2024 &copy; BDLVGaming.com - All Right Reserved
            </p>
        </div>
    </footer>

</div>

<script>
    const imageInput = document.getElementById("imageInput");
    const imagePreview = document.getElementById("imagePreview");

    // Khi chọn file
    imageInput.addEventListener("change", (event) => {
        const file = event.target.files[0]; // Lấy file đã chọn
        if (file) {
            const reader = new FileReader();

            // Đọc file và hiển thị trong div
            reader.onload = (e) => {
                imagePreview.style.backgroundImage = `url('${e.target.result}')`;
                imagePreview.style.border = "none"; // Xóa viền khi có ảnh
            };

            reader.readAsDataURL(file);
        }
    });

    // Khi nhấp vào ảnh, mở input để chọn lại ảnh
    imagePreview.addEventListener("click", () => {
        imageInput.click();
    });
</script>
</body>
</html>