<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BDLV Gaming</title>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>

<!--trang home -->
<div id="home">
    <!-- header -->
    <header>
        <div class="main-header">
            <div class="logo">
                <img th:src="@{/img/home/logo.png}" alt="logo">
                <a th:href="@{/admin}">
                    <p>ADMIN</p>
                </a>
            </div>
            <nav class="nav-menu">
                <div class="main-header-category">
                </div>
            </nav>
            <div class="icons">
                <!--                để xem profile-->
                <a href="#"><img th:src="@{/img/admin/admin.png}" alt="Lỗi hiển thị"></a>
                <p th:text="${admin.email}"></p>
            </div>
        </div>
    </header>

    <!-- content -->
    <div class="content">
        <!-- sidebar -->
        <div class='sidebar'>
            <div class="sidebar-options">
                <a th:href='@{/admin}' class="sidebar-option">
                    <img th:src="@{/img/admin/list.png}" alt="Lỗi hiển thị"/>
                    <p>Danh sách game</p>
                </a>
                <a th:href='@{/addGameForm}' class="sidebar-option">
                    <img th:src="@{/img/admin/add.png}" alt="Lỗi hiển thị"/>
                    <p>Thêm game</p>
                </a>
                <a th:href='@{/listUsers}' class="sidebar-option">

                    <img th:src="@{/img/admin/listUser.png}" alt="Lỗi hiển thị"/>
                    <p>Thông tin User</p>
                </a>
                <a th:href='@{/listOrders}' class="sidebar-option">
                    <img th:src="@{/img/admin/listOrder.png}" alt="Lỗi hiển thị"/>
                    <p>Quản lý Order</p>
                </a>
                <a th:href="@{/logout}">
                    <p>Đăng xuất</p>
                </a>
            </div>
        </div>

        <!--    list game-->
        <div class="listGameAdmin">
            <p>Danh sách game hiện có</p>
            <div class="list-table">
                <div class="list-table-format title">
                    <h3>Hình</h3>
                    <!--                    bây giờ mình truy suất trực tiếp tới database nên field sắp xếp
                    cũng là tên của các cột trong database chứ ko còn là của thực thể nữa còn quantity
                    là alias của cột COUNT(ag.account_game_id)-->
                    <a th:href="@{'/page/'
                    + ${currentPage}
                    +'?sortField=game_name&sortDir='
                    +${reverseSortDir}}"
                       class="field-name"
                    >
                        Tên
                        <img th:src="@{/img/admin/sort.png}" alt="Lỗi hiển thị">
                    </a>

                    <a th:href="@{'/page/'
                    + ${currentPage}
                    +'?sortField=description&sortDir='
                    +${reverseSortDir}}"
                       class="field-des"
                    >
                        Mô tả
                        <img th:src="@{/img/admin/sort.png}" alt="Lỗi hiển thị">
                    </a>
                    <a th:href="@{'/page/'
                    + ${currentPage}
                    +'?sortField=price&sortDir='
                    +${reverseSortDir}}">
                        Giá
                        <img th:src="@{/img/admin/sort.png}" alt="Lỗi hiển thị">
                    </a>
                    <a th:href="@{'/page/'
                    + ${currentPage}
                    +'?sortField=quantity&sortDir='
                    +${reverseSortDir}}"
                       class="quantity-account"
                    >
                        Số lượng tài khoản
                        <img th:src="@{/img/admin/sort.png}" alt="Lỗi hiển thị">
                    </a>
                    <!--                    khỏi sắp xếp-->
                    <h3>Thể loại</h3>
                </div>
                <div class='list-table-format' th:each="game:${listGame}">
                    <!--                 game[0]: gameImg   -->
                    <img th:src="@{'/uploadImgGame/' + ${game[0]}}" alt="Lỗi hiển thị"/>
                    <!--                 game[0]: gameName   -->
                    <p th:text="${game[1]}"></p>
                    <!--                 game[0]: description   -->
                    <p th:text="${game[2]}"></p>
                    <!--                 game[4] : price-->
                    <p th:text="${#strings.replace(game[4], '000.00', '.000 ')} + Đ"></p>
                    <!--                 game[5] là quantity-->
                    <p th:text="${game[5]}">
                    </p>
                    <!--                 game[6] là category_list-->
                    <p th:text="${game[6]}">
                    </p>

                    <!--                game[3] là id nhưng mình ko xài, -->
                    <div class="update-remove">
                        <a th:href="@{/deleteGame/{id}(id=${game[3]})}" class="btn btn-primary">
                            <img th:src="@{/img/admin/remove.png}" alt="Lỗi hiển thị">
                        </a>
                        <a th:href="@{/showFormForUpdate/{id}(id=${game[3]})}" class="btn btn-danger">
                            <img th:src="@{/img/admin/update.png}" alt="Lỗi hiển thị">
                        </a>
                        <a th:href="@{/listAccountGame/{id}(id=${game[3]})}" class="btn btn-danger">
                            <img th:src="@{/img/admin/addAccount.png}" alt="Lỗi hiển thị">
                        </a>
                    </div>
                </div>
            </div>
            <div th:if="${totalPages > 1}" class="container text-center">
                <div class="row align-items-start">
                    <div class="col">
                        <p>Tổng số dòng: [[${totalItems}]]</p>
                    </div>
                    <div class="col">
                    <span class="pageNumber" th:each="i : ${#numbers.sequence(1, totalPages)}">
                        <a th:if="${currentPage != i}"
                           th:href="@{'/page/' + ${i} + '?sortField=' + ${sortField} + '&sortDir=' +${sortDir}}">
                            [[${i}]]
                        </a>
                        <!-- &nbsp; là viết tắt của "non-breaking space", tức là khoảng trắng không ngắt dòng-->
                        <span th:unless="${currentPage != i}">[[${i}]]</span> &nbsp; &nbsp;
                    </span>
                    </div>
                    <div class="col">
                        <a
                                th:if="${currentPage < totalPages}"
                                th:href="@{'/page/' + ${currentPage + 1} + '?sortField=' + ${sortField} + '&sortDir=' +${sortDir}}">
                            Next
                        </a>
                        <span th:unless="${currentPage < totalPages}">Next</span>
                    </div>

                    <div class="col">
                        <a
                                th:if="${currentPage > 1}"
                                th:href="@{'/page/' + ${currentPage - 1} + '?sortField=' + ${sortField} + '&sortDir=' +${sortDir}}">
                            Back
                        </a>
                        <span th:unless="${currentPage > 1}">Back</span>
                    </div>

                    <div class="col">
                        <a th:if="${currentPage < totalPages}"
                           th:href="@{'/page/' + ${totalPages} + '?sortField=' + ${sortField} + '&sortDir=' +${sortDir}}">Last</a>
                        <span th:unless="${currentPage < totalPages}">Last</span>
                    </div>

                </div>
            </div>
        </div>

    </div>

    <!-- footer -->
    <footer>
        <div class="footer" id="footer">
            <div class="footer-content">
                <div class="footer-content-left">
                    <img th:src="@{/img/home/logo.png}" alt="logo">
                    <p>
                        BDLV Gaming là web bán game đa nền tảng (Steam, Epic Games, EA Games, Ubisoft) với giá cực kỳ
                        hợp lý. BDLV Gaming cam kết mang đến trải nghiệm mua game
                        bản quyền an toàn, uy tín và tiết kiệm.
                    </p>
                </div>
                <div class="footer-content-center">
                    <h2>Công ty BDLV GAMING</h2>
                    <ul>
                        <li>Trang chủ</li>
                        <li>Về chúng tôi</li>
                        <li>Đơn hàng của bạn</li>
                        <li>Chính sách</li>
                    </ul>
                </div>
                <div class="footer-content-right">
                    <h2>Liên hệ với chúng tôi thông qua</h2>
                    <ul>
                        <li>0933-223-872</li>
                        <li>BDLVGaming@gmail.com</li>
                    </ul>
                </div>
            </div>
            <hr/>
            <p class="footer-copyright">
                Copyright 2024 &copy; BDLVGaming.com - All Right Reserved
            </p>
        </div>
    </footer>

</div>
</body>
</html>